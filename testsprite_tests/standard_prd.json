{
  "meta": {
    "project": "HagBlog",
    "date": "2025-12-18",
    "prepared_by": "Software Development Manager"
  },
  "product_overview": "HagBlog is a modern full-stack blogging platform designed for individual bloggers and content teams. It delivers a performant, secure, and user-friendly experience with comprehensive content management, role-based authentication, and an insightful admin dashboard.",
  "core_goals": [
    "Enable users to create, edit, organize, and publish blog content efficiently with rich text and markdown editors.",
    "Provide a secure authentication and authorization system with role-based access control.",
    "Implement an interactive nested commenting system with moderation capabilities.",
    "Offer an admin dashboard that provides analytics, user management, content oversight, and system settings.",
    "Facilitate advanced search and content discovery features for improved user engagement.",
    "Support newsletter subscription management for audience growth.",
    "Enable seamless image and file uploads with Cloudinary integration for optimization and CDN delivery."
  ],
  "key_features": [
    "Comprehensive Content Management System supporting CRUD operations, featured images, SEO optimization, and publication scheduling.",
    "User Authentication and Authorization with email verification, secure sessions, password reset, and role-based access control (Admin, Blogger, User).",
    "Nested Comment System allowing guest comments, inline moderation, and status filtering.",
    "Admin Dashboard for analytics, user and content management, audit logs, settings configuration, and data export capabilities.",
    "Full-text Debounced Search with filtering, result highlighting, and category/tag-based content discovery.",
    "Newsletter Subscription with double opt-in verification and admin subscriber management.",
    "File Upload system with inline image support, Cloudinary integration for CDN and image optimization.",
    "SEO enhancements including JSON-LD structured data, sitemap generation, and robots.txt configuration."
  ],
  "user_flow_summary": [
    "Public users browse blog posts by category, tags, or search results, and view individual posts with comments.",
    "Users can register, log in, and manage their profile based on assigned roles, or comment as guests with basic info stored locally.",
    "Bloggers and admins use the admin panel to create, edit, publish, schedule, and organize posts with featured images and SEO settings.",
    "Admins manage users, assign roles, moderate comments, configure site settings, and review audit logs via the dashboard.",
    "Subscribers can sign up for newsletters through a public form with double opt-in verification.",
    "Users upload images and files during post creation/editing with Cloudinary providing optimization and CDN delivery."
  ],
  "validation_criteria": [
    "Successful creation, editing, deletion, and publishing of blog posts with SEO metadata and featured images.",
    "Secure user registration, login, session handling, password resets, and role-based access enforcement.",
    "Proper functioning of nested comments, including guest commenting, moderation actions, and status filtering.",
    "Accurate display of analytics, user activity, and content statistics in the admin dashboard.",
    "Reliable full-text search with responsive debounced input, filtering, and highlighted results.",
    "Correct operation of newsletter subscription flow with email verification.",
    "Efficient file upload handling integrated with Cloudinary including image optimization and CDN delivery.",
    "SEO features such as JSON-LD data, sitemap presence, robots.txt, and meta tags effectively implemented and validated."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Vue 3",
      "Nuxt 4",
      "Express.js",
      "PostgreSQL",
      "Drizzle ORM",
      "TanStack Vue Query",
      "VueUse",
      "Better Auth",
      "Zod",
      "Cloudinary"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "User authentication system with login, registration, and session management using Better Auth",
        "files": [
          "app/composables/useAuth.ts",
          "app/pages/admin/login.vue",
          "app/middleware/auth.global.ts",
          "server/src/auth.ts"
        ]
      },
      {
        "name": "Blog Posts",
        "description": "Complete blog post management including CRUD operations, publishing, drafts, view counts, and featured images",
        "files": [
          "app/composables/usePosts.ts",
          "app/services/posts.ts",
          "app/pages/index.vue",
          "app/pages/[...slug].vue",
          "app/pages/blog/index.vue",
          "app/pages/admin/posts/index.vue",
          "app/pages/admin/posts/new.vue",
          "app/pages/admin/posts/[id]/edit.vue"
        ]
      },
      {
        "name": "Categories",
        "description": "Category management for organizing blog posts with CRUD operations",
        "files": [
          "app/composables/useCategories.ts",
          "app/services/categories.ts",
          "app/pages/category/[slug].vue",
          "app/pages/admin/categories.vue"
        ]
      },
      {
        "name": "Tags",
        "description": "Tag system for labeling and filtering blog posts",
        "files": [
          "app/composables/useTags.ts",
          "app/services/tags.ts",
          "app/pages/tag/[slug].vue"
        ]
      },
      {
        "name": "Comments",
        "description": "Comment system for blog posts with moderation capabilities",
        "files": [
          "app/composables/useComments.ts",
          "app/services/comments.ts",
          "app/pages/admin/comments.vue"
        ]
      },
      {
        "name": "Search",
        "description": "Full-text search functionality for blog posts with debounced queries",
        "files": [
          "app/composables/useSearch.ts",
          "app/services/search.ts",
          "app/pages/search.vue"
        ]
      },
      {
        "name": "User Management",
        "description": "Admin user management with roles (admin, blogger) and profile settings",
        "files": [
          "app/composables/useUsers.ts",
          "app/services/users.ts",
          "app/pages/admin/users.vue"
        ]
      },
      {
        "name": "Dashboard",
        "description": "Admin dashboard with statistics and analytics overview",
        "files": [
          "app/composables/useDashboard.ts",
          "app/services/dashboard.ts",
          "app/pages/admin/index.vue"
        ]
      },
      {
        "name": "Audit Logs",
        "description": "Activity logging system for tracking user actions and changes",
        "files": [
          "app/composables/useAuditLogs.ts",
          "app/services/auditLogs.ts",
          "app/pages/admin/log.vue"
        ]
      },
      {
        "name": "Settings",
        "description": "Site-wide settings management for configuration",
        "files": [
          "app/composables/useSettings.ts",
          "app/services/settings.ts",
          "app/pages/admin/settings.vue"
        ]
      },
      {
        "name": "File Upload",
        "description": "Image and file upload functionality with Cloudinary integration",
        "files": [
          "app/composables/useUpload.ts",
          "app/composables/useCloudinary.ts",
          "app/services/upload.ts"
        ]
      },
      {
        "name": "Newsletter",
        "description": "Newsletter subscription management",
        "files": [
          "app/composables/useNewsletter.ts",
          "app/services/newsletter.ts"
        ]
      },
      {
        "name": "Export",
        "description": "Data export functionality for posts and content",
        "files": [
          "app/composables/useExport.ts",
          "app/services/export.ts"
        ]
      },
      {
        "name": "SEO",
        "description": "SEO optimization with JSON-LD structured data, sitemap, and robots.txt",
        "files": [
          "app/composables/useJsonLd.ts",
          "nuxt.config.ts"
        ]
      },
      {
        "name": "Admin Layout",
        "description": "Admin dashboard layout with sidebar navigation and user dropdown",
        "files": [
          "app/layouts/admin.vue",
          "app/components/layout/AdminSidebar.vue",
          "app/components/layout/AdminNavbar.vue"
        ]
      }
    ]
  }
}
